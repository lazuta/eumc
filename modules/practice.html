<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="Web site created using create-react-app" />
    <link rel="stylesheet" href="../style.css">

    <title>БГАС: Электронный учебно-методический комплекс</title>
</head>

<body>
    <div id="root">
        <section class="index1">
            <div class="index2">
              <div class = "textBody">
                  <img src = "../images/bsac_logo.png" class = "imageBody"></img>
                  <h1>Электронный учебно-методический комплекс</h1>
                  <p>по дисциплине</p>
                  <h2>"Специальная подготовка"</h2>
                  <p>для специальности</p>
                  <p>ВУС 403290 - Начальник аппаратной</p>
              </div>
            </div>
            
            
            <!-- Блок начало -->


            <div class = "practice">
                <div class = "practiceController">
                    <div class = "practiceModule">
                        <h4>Норматив 16</h4>
                        <p class = "practiceDescription">Задача выполняется на развёрнутой аппаратной с оборудованными рабочими местами, к которой подключены каналообразующая аппаратная, аппаратная П-178 МБ, электропитающая станция, 5 абонентских линий с подключёнными телефонными аппаратами.</p>
                        <button class = "startPractice" onClick = 'view("16", 0)'>Для офицеров и прапорщиков</button>
                        <button class = "startPractice" onClick = 'view("16", 1)'>Для солдат и сержантов 1 года обучения</button>
                        <button class = "startPractice" onClick = 'view("16", 2)'>Для солдат и сержантов 2 года обучения</button>
                        <button class = "startPractice" onClick = 'view("16", 3)'>Для солдат и сержантов 3 и выше года обучения</button>
                    </div>

                    <hr class = "practiceLine" />

                    <div class = "practiceModule">
                        <h4>Норматив 16a</h4>
                        <p class = "practiceDescription">Задача выполняется на развёрнутой аппаратной с оборудованными рабочими местами, к которой подключены каналообразующая аппаратная, аппаратная П-178 МБ, электропитающая станция, 5 абонентских линий с подключёнными телефонными аппаратами.</p>
                        <button class = "startPractice" onClick = 'view("16a", 0)'>Для офицеров и прапорщиков</button>
                        <button class = "startPractice" onClick = 'view("16a", 1)'}>Для солдат и сержантов 1 года обучения</button>
                        <button class = "startPractice" onClick = 'view("16a", 2)'>Для солдат и сержантов 2 года обучения</button>
                        <button class = "startPractice" onClick = 'view("16a", 3)'>Для солдат и сержантов 3 и выше года обучения</button>
                    </div>

                    <hr class = "practiceLine" />

                    <div class = "practiceModule">
                        <h4>Норматив 36</h4>
                        <p class = "practiceDescription">Подгатовка к работе настройка и работа на оборудовании типа SHDSL модем.</p>
                        <button class = "startPractice" onClick = 'view("36", 1)'>Для солдат и сержантов 1 года обучения</button>
                    </div>

                    <hr class = "practiceLine" />

                    <div class = "practiceModule">
                        <h4>Норматив 37</h4>
                        <p class = "practiceDescription">Подгатовка к работе настройка и работа на оборудовании типа ORION модем.</p>
                        <button class = "startPractice" onClick = 'view("37", 1)'>Для солдат и сержантов 1 года обучения</button>
                    </div>

                    <hr class = "practiceLine" />

                    <div class = "practiceModule">
                        <h4>Норматив 40</h4>
                        <p class = "practiceDescription">Подгатовка к работе настройка и работа на оборудовании типа MEGATRANS-3M.</p>
                        <button class = "startPractice" onClick = 'view("40", 1)'>Для солдат и сержантов 1 года обучения</button>
                    </div>

                    <hr class = "practiceLine" />

                    <div class = "practiceModule">
                        <h4>Норматив 55</h4>
                        <p class = "practiceDescription">Подгатовка к работе и организация соединительных линий между АТС ФМ</p>
                        <button class = "startPractice" onClick = 'view("55", 1)'>Для солдат и сержантов 1 года обучения</button>
                    </div>

                    <hr class = "practiceLine" />

                    <div class = "practiceModule">
                        <h4>Норматив 56</h4>
                        <p class = "practiceDescription">Подгатовка к работе и организация соединительных линий между АТС ФМ (между АТС развернуты отдельные цифровые соединительные линии)</p>
                        <button class = "startPractice" onClick = 'view("56", 1)'>Для солдат и сержантов 1 года обучения</button>
                    </div>

                </div>
                <div class = "doStartPractice">
                    <div class = "Timer">
                        <div id="hour"></div>:
                        <div id="mins"></div>:
                        <div id="secs"></div>
                    </div>

                    <button class = "doStart" onClick = "doStart()">Приступить</button>
                    <button class = "doEnd" onClick = "endPract()">Завершить</button>
                </div>
            </div>

            <!-- Блок конец -->

            <a class = "by" href = "./modules/PowerBy">BY</a>

            <nav class = "navigation">
                <a exact href = "../index.html">Главная</a >
                <a href = "./practice.html">Практика</a >
                <a href = "./controle.html">Контроль знаний</a >
                <a href = "./materials.html">Материал</a >
                <a href = "./gallery.html">Фото и видео</a >
            </nav>
    </div>
    <script src='/data/regulations.js'></script>
    <script type="text/javascript">
        let assessments = [];
        let minutes = 0;

        function view(keys, lvl) {
                let x = 0;

                this.key = keys;
                this.lvl = toString();
                data = requlations;
                
                let body = document.querySelector('.practiceController');

                body.innerHTML = ` 
                    <p class = "tableTitlePracticle"> Время выполнения</p>
                `;
                console.log(data[keys][lvl][lvl][1]);
                data[keys][lvl][lvl].forEach(function(el) {
                    if(Number(x) === 0) {
                        assessments[0] = el.fine;
                        body.innerHTML += ` 
                            <p class = "tablePracticle"> Отлично - ${el.fine}мин</p>
                        `;
                    }
                    else if(Number(x) === 1) {
                        assessments[1] = el.good;
                        body.innerHTML += ` 
                            <p class = "tablePracticle">Хорошо - ${el.good}мин</p>
                        `;
                    }
                    else if(Number(x) === 2) {
                        assessments[2] = el.satisfact;
                        body.innerHTML += `
                            <p class = "tablePracticle">Удовлетворительно - ${el.satisfact}мин</p>
                        `;
                    }

                    x++;
                });

                document.querySelector('.doStart').style.display = 'block';
            }

            function doStart() {
                document.querySelector('.Timer').style.display = 'flex';
                document.querySelector('.doStart').style.display = 'none';
                document.querySelector('.doEnd').style.display = 'block';

                const hour = document.getElementById('hour');
                const mins = document.getElementById('mins');
                const secs = document.getElementById('secs');
                let S = '00', M = '00', H = '00';

                setInterval(() => {
                    if(!this.pause) {
                        S = +S +1;
                        if( Number(S) < 10 ) { S = '0' + S; }
                            if( Number(S) === 60 ) {
                                S = '00';
                                M = +M + 1;
                                if( Number(M) < 10 ) { M = '0' + M }
                                if( Number(M) === 60 ) {
                                M = '00';
                                H = +H + 1;
                                if( Number(H) < 10 ) { H = '0' + H }
                            }
                        }
                        secs.innerText = S;
                        mins.innerText = M;
                        hour.innerText = H;

                        minutes = M;
                    }
                }, 1000);
            }

            function endPract() {
                this.pause = true;
                document.querySelector('.doEnd').style.display = 'none';

                let text = document.querySelector('.Timer');

                if(minutes >= assessments[2]) {
                    text.style.color = "#B8244E";
                } else if (minutes < assessments[2] && minutes > assessments[0]) {
                    text.style.color = "#B89E41";
                } else {
                    text.style.color = "#68B84F";
                }

                text.style.fontFamily = "Segue UI, sans-serif";
                text.style.fontSize = "4.5em";
            }

        
    </script>
</body>

</html>